(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,n,t){},64:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var s,i,r,c,a,l,d=t(2),o=t.n(d),j=t(47),b=t.n(j),u=(t(63),t(16)),h=(t(64),t(55)),m=t(86),x=t(87),O=t(84),p=t(54),g=t(8),k=t(7),v=t(88),f=t(0),y=function(e){var n=e.drinks,t=e.drinksTitle,s=e.showTitle,i=void 0===s||s,r=e.showUsername,c=void 0===r||r;return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{children:[i&&Object(f.jsx)("h3",{children:t}),n&&n.map((function(e){return Object(f.jsxs)("div",{className:"card mb-3",children:[Object(f.jsx)("h4",{className:"card-header bg-primary text-light p-2 m-0",children:c?Object(f.jsxs)(g.b,{className:"text-light",to:"/SingleDrinkList/".concat(e.drinkImage),children:[e.drinkAuthor," ",Object(f.jsx)("br",{}),Object(f.jsxs)("span",{style:{fontSize:"1rem"},children:["had this drink on ",e.createdAt]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("span",{style:{fontSize:"1rem"},children:["You had this drink on ",e.createdAt]})})}),Object(f.jsx)("div",{className:"card-body bg-light p-2",children:Object(f.jsx)("p",{children:e.drinksIngredients})}),Object(f.jsx)(g.b,{className:"btn btn-primary btn-block btn-squared",to:"/users/".concat(e._id),children:"Join the discussion on this thought."})]},e._id)}))]})})},N=t(21),w=t(85),S=Object(w.a)(s||(s=Object(N.a)(["\n  query user($username: String!) {\n    user(username: $username) {\n      _id\n      username\n      email\n      drinks {\n        _id\n        drinkImage\n        drinksTitle\n        drinksIngredients\n        drinkRecipes\n      }\n    }\n  }\n"]))),I=Object(w.a)(i||(i=Object(N.a)(["\n  query getDrinks {\n    drinks {\n      _id\n      drinkImage\n      drinksTitle\n      drinksIngredients\n      drinkRecipes\n    }\n  }\n"]))),C=(Object(w.a)(r||(r=Object(N.a)(["\nquery getSingleDrink($drinkId: ID!) {\n  drink(drinkId: $drinkId)  {\n    drinks {\n      _id\n      drinkImage\n      drinksTitle\n      drinksIngredients\n      drinkRecipes\n    }\n  }\n}\n"]))),Object(w.a)(c||(c=Object(N.a)(["\n  query me {\n    me {\n      _id\n      username\n      email\n      drinks {\n        _id\n        drinkImage\n        drinksTitle\n        drinksIngredients\n        drinkRecipes\n      }\n    }\n  }\n"])))),D=function(){var e=Object(v.a)(I),n=e.loading,t=e.data,s=(null===t||void 0===t?void 0:t.drinks)||[];return Object(f.jsx)("main",{children:Object(f.jsx)("div",{className:"flex-row justify-center",children:Object(f.jsx)("div",{className:"col-12 col-md-8 mb-3",children:n?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsx)(y,{drinks:s,drinkTitle:"nbxnx"})})})})},M=t(51),T=t(52),U=t(41),L=new(function(){function e(){Object(M.a)(this,e)}return Object(T.a)(e,[{key:"getProfile",value:function(){return Object(U.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(U.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),_=function(){var e=Object(k.g)().username,n=Object(v.a)(e?S:C,{variables:{username:e}}),t=n.loading,s=n.data,i=(null===s||void 0===s?void 0:s.me)||(null===s||void 0===s?void 0:s.user)||{};return L.loggedIn()&&L.getProfile().data.username===e?Object(f.jsx)(k.a,{to:"/me"}):t?Object(f.jsx)("div",{children:"Loading..."}):(null===i||void 0===i?void 0:i.username)?Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"flex-row justify-center mb-3",children:[Object(f.jsxs)("h2",{className:"col-12 col-md-10 bg-dark text-light p-3 mb-5",children:["Viewing ",e?"".concat(i.username,"'s"):"your"," profile."]}),Object(f.jsx)("div",{className:"col-12 col-md-10 mb-5",children:Object(f.jsx)(y,{drinks:i.drinks,drinkTitle:"".concat(i.username,"'s drinks..."),showTitle:!1,showUsername:!1})})]})}):Object(f.jsx)("h4",{children:"You need to be logged in to see this. Use the navigation links above to sign up or log in!"})},$=t(26),P=t.n($),Y=t(35),q=t(25),F=t(17),H=t(90),z=Object(w.a)(a||(a=Object(N.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),A=Object(w.a)(l||(l=Object(N.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),R=function(){var e=Object(d.useState)({username:"",email:"",password:""}),n=Object(F.a)(e,2),t=n[0],s=n[1],i=Object(H.a)(z),r=Object(F.a)(i,2),c=r[0],a=r[1],l=a.error,o=a.data,j=function(e){var n=e.target,i=n.name,r=n.value;s(Object(u.a)(Object(u.a)({},t),{},Object(q.a)({},i,r)))},b=function(){var e=Object(Y.a)(P.a.mark((function e(n){var s,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(t),e.prev=2,e.next=5,c({variables:Object(u.a)({},t)});case 5:s=e.sent,i=s.data,L.login(i.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(f.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("h4",{className:"classloginsignup p-3",children:"Sign Up"}),Object(f.jsx)("p",{className:"p-2 pb-1",children:"Need a Account. Sign-Up today to start create you custom drink selection."}),Object(f.jsxs)("div",{className:" p-2",children:[o?Object(f.jsxs)("p",{children:["Success! You may now head"," ",Object(f.jsx)(g.b,{to:"/",children:"back to the homepage."})]}):Object(f.jsxs)("form",{onSubmit:b,children:[Object(f.jsx)("input",{className:"form-input mb-3",placeholder:"Your username",name:"username",type:"text",value:t.name,onChange:j}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{className:"form-input mb-3",placeholder:"Your email",name:"email",type:"email",value:t.email,onChange:j}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{className:"form-input mb-3",placeholder:"******",name:"password",type:"password",value:t.password,onChange:j}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"button is-primarywhite is-outlined has-text-black is-rounded city-button",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),l&&Object(f.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:l.message})]})]})})})},B=function(e){var n=Object(d.useState)({email:"",password:""}),t=Object(F.a)(n,2),s=t[0],i=t[1],r=Object(H.a)(A),c=Object(F.a)(r,2),a=c[0],l=c[1],o=l.error,j=l.data,b=function(e){var n=e.target,t=n.name,r=n.value;i(Object(u.a)(Object(u.a)({},s),{},Object(q.a)({},t,r)))},h=function(){var e=Object(Y.a)(P.a.mark((function e(n){var t,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(s),e.prev=2,e.next=5,a({variables:Object(u.a)({},s)});case 5:t=e.sent,r=t.data,L.login(r.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:i({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(f.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("h4",{className:"classloginsignup bg-dark text-light p-2",children:"Login"}),Object(f.jsx)("p",{className:"p-2 pb-1",children:"Already have a account. Sign-In to view your recent searches and create your custom fit for every season!"}),Object(f.jsxs)("div",{className:"p-2",children:[j?Object(f.jsxs)("p",{children:["Success! You may now head"," ",Object(f.jsx)(g.b,{to:"/Users",children:"back to the homepage."})]}):Object(f.jsxs)("form",{onSubmit:h,children:[Object(f.jsx)("input",{className:"form-input mb-3",placeholder:"Your email",name:"email",type:"email",value:s.email,onChange:b}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{className:"form-input mb-3",placeholder:"******",name:"password",type:"password",value:s.password,onChange:b}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"button is-primarywhite is-outlined has-text-black is-rounded city-button",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),o&&Object(f.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:o.message})]})]})})})},E=function(){return Object(f.jsxs)("main",{children:[Object(f.jsx)("div",{className:"flex-row justify-center",children:Object(f.jsx)("div",{className:" mb-3 p-3",children:Object(f.jsx)(B,{})})}),Object(f.jsx)("div",{className:"flex-row justify-center",children:Object(f.jsx)("div",{className:" mb-3 p-3",children:Object(f.jsx)(R,{})})})]})},J=function(){var e=Object(d.useState)(""),n=Object(F.a)(e,2),t=n[0],s=n[1],i=Object(d.useState)({}),r=Object(F.a)(i,2),c=r[0],a=r[1],l=Object(d.useState)(),o=Object(F.a)(l,2),j=o[0],b=o[1];function u(){fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid=f57cc3d88487e632b111d5d350ce8f21&units=imperial").then((function(e){return e.json()})).then((function(e){console.log("Here is the Weather data returned from the fetch call: ",e),b(e)}))}function h(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=").then((function(e){return e.json()})).then((function(e){return console.log("Here is the Drink data returned from the fetch call: ",e),e})).then((function(e){var n,t=e.drinks,s=t[(n=t.length,Math.floor(Math.random()*n))];a(s)}))}return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"dropdown is-mobile ",children:[Object(f.jsxs)("div",{className:"column is-fullwidth",children:[Object(f.jsx)("label",{className:"label",children:"Choose Weather"}),Object(f.jsx)("div",{className:"control is-fullwidth",children:Object(f.jsx)("div",{className:"select ",children:Object(f.jsxs)("select",{children:[Object(f.jsx)("option",{children:"Select dropdown"}),Object(f.jsx)("option",{children:"Sun"}),Object(f.jsx)("option",{children:"Clouds"}),Object(f.jsx)("option",{children:"Snow"}),Object(f.jsx)("option",{children:"Rain"}),Object(f.jsx)("option",{children:"Windy"})]})})})]}),Object(f.jsxs)("div",{className:"column",children:[Object(f.jsx)("label",{className:"label",children:"Choose Music"}),Object(f.jsx)("div",{className:"control is-fullwidth",children:Object(f.jsx)("div",{className:"select ",children:Object(f.jsxs)("select",{children:[Object(f.jsx)("option",{children:"Select dropdown"}),Object(f.jsx)("option",{children:"Jazz"}),Object(f.jsx)("option",{children:"Pop"}),Object(f.jsx)("option",{children:"Classic"}),Object(f.jsx)("option",{children:"Rap"})]})})})]}),Object(f.jsxs)("div",{className:"column is-mobile",children:[Object(f.jsx)("label",{className:"label",children:"Choose Liquor"}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("div",{className:"select is-fu",children:Object(f.jsxs)("select",{children:[Object(f.jsx)("option",{children:"Select dropdown"}),Object(f.jsx)("option",{children:"Bourbon"}),Object(f.jsx)("option",{children:"whisky"}),Object(f.jsx)("option",{children:"Gin"}),Object(f.jsx)("option",{children:"Vodka"}),Object(f.jsx)("option",{children:"Brandy"}),Object(f.jsx)("option",{children:"Rum"}),Object(f.jsx)("option",{children:"Tequila"})]})})})]})]}),Object(f.jsx)("div",{className:"column",children:Object(f.jsxs)("form",{method:"get",onSubmit:function(e){e.preventDefault(),u(),h()},children:[Object(f.jsxs)("div",{className:"pb-3",children:[Object(f.jsx)("label",{className:"label",children:"Enter a city name to see your recommended drink"}),Object(f.jsx)("input",{id:"userInput",className:"input is-primary is-medium",type:"text",placeholder:"Please type your city name...",onChange:function(e){s(e.target.value)}})]}),Object(f.jsx)("button",{id:"weatherButton",className:"button is-primarywhite is-outlined has-text-black is-rounded city-button",type:"submit",children:"Pick Your Poison"})]})}),j&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"container",id:"issueContainer",children:Object(f.jsx)("p",{className:"is-size-4 has-text-centered has-text-primary has-background-primary-light p-2",children:j?"Here is the weather for: "+j.name:""})}),Object(f.jsx)("div",{className:" has-text-centered has-text-primary p-2",children:Object(f.jsxs)("p",{children:["Weather Condition: ",Object(f.jsxs)("span",{className:"textCopy",children:[" ",j.weather?j.weather[0].main:""," - ",j.weather?j.weather[0].description:""," "]}),Object(f.jsx)("br",{}),"Current Temperature: ",Object(f.jsx)("span",{className:"textCopy",children:j.main?j.main.temp:""})]})})]}),Object(f.jsx)("div",{className:"columns is-centered is-desktop",children:Object(f.jsx)("div",{className:"column",children:Object(f.jsx)("div",{className:"tile is-parent has-text-left p-5",children:Object(f.jsx)("article",{class:" is-child box",children:Object(f.jsxs)("div",{className:"columns is-mobile",children:[Object(f.jsx)("div",{className:"column",children:Object(f.jsx)("img",{id:"image",className:"image",src:c?c.strDrinkThumb:"",alt:c?c.strDrink:""})}),Object(f.jsxs)("div",{class:"column",children:[Object(f.jsx)("div",{className:" is-size-2 has-text-primary ",children:c?" Drink Title: "+c.strDrink:""}),Object(f.jsxs)("div",{className:"drinkDiv",children:["Ingredients:",Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:null!=c?c.strIngredient1+" "+c.strMeasure1:" "}),Object(f.jsx)("li",{children:null!=c?c.strIngredient2+" "+c.strMeasure2:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient3+" "+c.drinks[14].strMeasure3:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient4+" "+c.drinks[14].strMeasure4:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient5+" "+c.drinks[14].strMeasure5:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient5+" "+c.drinks[14].strMeasure5:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient6+" "+c.drinks[14].strMeasure6:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient7+" "+c.drinks[14].strMeasure7:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient8+" "+c.drinks[14].strMeasure8:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient9+" "+c.drinks[14].strMeasure9:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient10+" "+c.drinks[14].strMeasure10:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient11+" "+c.drinks[14].strMeasure11:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient12+" "+c.drinks[14].strMeasure12:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient13+" "+c.drinks[14].strMeasure13:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient14+" "+c.drinks[14].strMeasure14:""}),Object(f.jsx)("li",{children:null!=c.drinks?c.drinks[14].strIngredient15+" "+c.drinks[14].strMeasure15:""})]})]}),Object(f.jsx)("div",{className:"drinkDiv",children:null!=c.drinks?"Instructions: "+c.strInstructions:""}),Object(f.jsx)("div",{className:"drinkDiv",children:null!=c.drinks?"Glass Type Suggestion: "+c.drinks[14].strGlass:""}),Object(f.jsx)("div",{className:"drinkDiv",children:null!=c.drinks?"Category: "+c.drinks[14].strCategory:""}),Object(f.jsx)("div",{className:"drinkDiv",children:null!=c.drinks?"Non or Alcoholic : "+c.drinks[14].strAlcoholic:""})]})]})})})})})]})},V=function(){return Object(f.jsxs)("main",{children:[Object(f.jsx)("div",{className:"flex-row justify-center",children:Object(f.jsx)("div",{className:"mb-3 p-3",children:Object(f.jsx)(J,{})})}),Object(f.jsx)("div",{className:"flex-row justify-center",children:Object(f.jsx)("div",{className:"mb-3 p-3",children:Object(f.jsx)(y,{})})})]})},W=function(){return Object(f.jsx)("header",{className:"hero is-primary",children:Object(f.jsxs)("div",{className:"hero-body",children:[Object(f.jsxs)("div",{className:"container flex-row justify-space-between-lg justify-center align-center",children:[Object(f.jsx)(g.b,{className:"",to:"/",children:Object(f.jsx)("h1",{className:"title has-text-centered is-size-1 pb-3",children:"Pick Your Poison"})}),Object(f.jsx)("p",{className:"subtitle has-text-centered",children:"Let us pick your perfect cocktail."})]}),Object(f.jsx)("div",{className:"center",children:L.loggedIn()?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g.b,{className:"button is-primary is-rounded city-button m-2",to:"/Login-SignUp",children:"Dashboard"}),Object(f.jsx)(g.b,{className:"button is-primary is-rounded city-button m-2",to:"/Login-SignUp",children:"Favorites"}),Object(f.jsx)(g.b,{className:"button is-primary is-rounded city-button m-2",to:"/Login-SignUp",children:"History"}),Object(f.jsxs)(g.b,{className:"button is-primary is-rounded city-button m-2",to:"/me",children:[L.getProfile().data.username,"'s profile"]}),Object(f.jsx)("button",{className:"button is-primary is-rounded city-button m-2",onClick:function(e){e.preventDefault(),L.logout()},children:"Logout"})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"navbarCenter",children:[Object(f.jsx)(g.b,{className:"button is-primary is-rounded city-button m-2",to:"/",children:"Home"}),Object(f.jsx)(g.b,{className:"button is-primary is-rounded city-button m-2",to:"/Login-SignUp",children:"Login"}),Object(f.jsx)(g.b,{className:"button is-primary is-rounded city-button m-2",to:"/Login-SignUp",children:"Sign-Up"})]})})})]})})},G=function(){return Object(f.jsx)("footer",{className:"w-100 mt-auto bg-secondary p-4",children:Object(f.jsxs)("div",{className:"container text-center mb-5",children:[Object(f.jsx)("strong",{children:"Pick Your Poison"})," by ",Object(f.jsx)("a",{href:"https://github.com/Hov92",children:"Dwayne Hovington"}),", ",Object(f.jsx)("a",{href:"https://github.com/dtmerrill",children:"Dana Merrill"}),", ",Object(f.jsx)("a",{href:"https://github.com/shatikka-mcknight",children:"Shatikka McKnight"}),", and ",Object(f.jsx)("a",{href:"https://github.com/HenryVernon",children:"Henry Vernon"}),"."]})})},K=Object(h.a)({uri:"http://localhost:3001/graphql"}),Q=Object(p.a)((function(e,n){var t=n.headers,s=localStorage.getItem("id_token");return{headers:Object(u.a)(Object(u.a)({},t),{},{authorization:s?"Bearer ".concat(s):""})}})),X=new m.a({link:Q.concat(K),cache:new x.a});var Z=function(){return Object(f.jsx)(O.a,{client:X,children:Object(f.jsx)(g.a,{children:Object(f.jsx)(k.d,{children:Object(f.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object(f.jsx)(W,{}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(k.b,{exact:!0,path:"/",children:Object(f.jsx)(D,{})}),Object(f.jsx)(k.a,{to:"/"}),Object(f.jsx)(k.b,{exact:!0,path:"/",children:Object(f.jsx)(V,{})}),Object(f.jsx)(k.b,{exact:!0,path:"/Login-SignUp",children:Object(f.jsx)(E,{})}),Object(f.jsx)(k.b,{exact:!0,path:"/Users",children:Object(f.jsx)(_,{})})]}),Object(f.jsx)(G,{})]})})})})},ee=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,91)).then((function(n){var t=n.getCLS,s=n.getFID,i=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),s(e),i(e),r(e),c(e)}))};b.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root")),ee()}},[[74,1,2]]]);
//# sourceMappingURL=main.5c42e149.chunk.js.map